var server='1';
var tech = {"3":["1.000",0,0,1.000],"27":["0.990",0,0,1.100],"5":["1.000",1,1,1.000],"6":["1.000",1,1,1.500],"7":["1.000",1,1,1.000],"8":["1.000",0,0,1.000],"9":["1.000",1,1,1.500],"10":["1.500",0,0,2.000],"11":["1.000",1,1,1.000],"12":["1.500",0,0,2.000],"13":["1.000",1,1,1.000],"14":["1.000",1,1,1.000],"15":["1.500",1,1,2.000],"16":["0.750",0,0,0.750],"17":["1.000",1,1,1.000],"18":["1.000",1,1,1.000],"19":["1.500",0,0,1.500],"20":["1.000",1,1,1.000],"21":["1.000",0,0,1.000],"22":["1.500",1,1,1.500],"23":["1.200",1,1,1.200],"24":["1.500",0,0,1.500],"25":["1.400",1,1,2.000],"26":["1.800",0,0,1.200],"28":["1.000",1,1,1.000],"29":["1.000",1,1,1.000],"30":["1.000",1,1,1.000],"31":["1.000",1,1,1.000],"32":["1.200",0,1,2.000],"33":["1.000",1,0,0.500],"34":["1.000",0,1,1.000],"35":["1.050",1,1,1.500],"36":["1.000",0,0,1.600],"37":["1.000",1,1,1.000],"38":["1.000",1,1,2.000],"39":["1.000",0,1,1.000],"c1":["5.000",0,1,5.000],"1":["1.000",0,0,1.000],"2":["1.000",0,0,1.500],"4":["1.000",0,0,1.500],"40":["1.000",1,1,1.000],"41":["1.000",0,0,1.600],"42":["1.000",1,1,1.250],"43":["1.000",0,1,1.000],"44":["1.000",1,0,2.000],"45":["0.875",,1,0.500],"46":["1.200",1,1,1.200],"47":["1.200",1,1,1.200],"48":["1.000",1,1,1.000],"49":["1.500",0,0,1.500],"50":["1.200",1,1,2.000],"51":["1.500",0,1,1.000],"52":["1.000",1,1,1.000],"53":["1.500",0,1,2.000],"54":["1.000",1,1,1.000],"55":["1.430",0,1,1.100],"56":["1.200",1,1,2.000],"57":["1.250",0,1,1.250],"58":["1.200",1,1,1.500],"59":["1.000",0,0,1.000],"60":["1.000",1,1,1.250],"61":["1.200",0,1,1.500],"62":["1.313",1,1,1.750],"63":["1.000",1,1,1.000],"64":["1.125",0,1,1.500],"65":["1.300",0,1,2.000],"66":["1.000",1,1,1.000],"p1":["1.000",1,1,1.000],"67":["1.125",1,1,1.500],"68":["1.000",0,1,1.000],"69":["1.200",1,0,1.500],"70":["1.000",1,1,1.000],"71":["1.000",0,1,2.000],"72":["1.000",0,1,1.000],"73":["1.250",1,1,1.250],"74":["1.000",1,1,1.000],"p2":["1.000",1,1,1.000],"75":["0.999",0,0,1.500],"76":["1.200",0,1,1.200],"77":["1.000",1,1,2.000],"p3":["1.000",1,1,1.000],"78":["1.000",1,1,1.000],"79":["1.200",0,0,1.200],"80":["1.050",1,1,1.500],"81":["1.000",0,1,1.000],"82":["1.000",1,1,1.000],"83":["1.000",1,1,2.000],"84":["1.120",1,1,1.400],"85":["1.000",1,0,1.000],"86":["1.000",1,1,2.000],"87":["1.000",0,0,1.000],"88":["1.120",1,1,1.400],"89":["1.000",1,1,1.000],"90":["1.000",1,1,2.000],"91":["1.000",1,1,1.000],"92":["1.050",1,1,1.500],"93":["1.000",1,1,1.000],'l':0};

function is_num(num) {if (/^\-?[0-9]+$/.test(num)) {return true;} else {return false;};}
function $(v){return(document.getElementById(v));}
function $S(v){return(document.getElementById(v).parentNode.style);}
function changeserver(ser) {server=ser; if (!tech[server]) {tech[server]=[1,1,1,1];};
if (!tech[server][1]) {$S('ma').display="none"; $S('ar').display="none";}
else {$S("ma").display="table-row"; $S("ar").display="table-row";}
if (!tech[server][2]) {$S('pa').display="none";}
else {$S("pa").display="table-row";} calctime(); $('w').href='traveltimes2?world='+ser;}

function calctime() {var xs = $('xs').value; var xd =  $('xd').value; var ys = $('ys').value; var yd = $('yd').value;if (is_num(xs)&&is_num(ys)&&is_num(xd)&&is_num(yd)) {var sword,axe,scout,light,heavy,ram,noble; 
function clock(time) {if (!time) {return '0:00:00';} else {time=Math.round(time); var hours = Math.floor(time/3600); var minutes = Math.floor((time-(hours*3600))/60); var seconds = Math.floor(time-(hours*3600)-(minutes*60)); var cl = hours+':'; if (minutes<=9) {cl = cl+'0'+minutes+':';} else {cl = cl+minutes+':';} if (seconds<=9) {cl = cl+'0'+seconds;} else {cl = cl+seconds;} return cl;}}
var sword=1320,axe=1080,scout=540,light=600,heavy=660,ram=1800,noble=2100,merch=360;

if (tech[server]&&tech[server][0]) {
var dif = Math.sqrt(((xs-xd)*(xs-xd))+((ys-yd)*(ys-yd))); $("distance").innerHTML='Distance: '+(Math.round(dif*10)/10)+' village'+(dif==1?'':'s')+'.'; xdif=dif/tech[server][0];
$("pa").innerHTML=clock(light*xdif); $("ma").innerHTML=clock(light*xdif); $("ar").innerHTML=clock(axe*xdif); $("spm").innerHTML = clock(axe*xdif); $("swm").innerHTML = clock(sword*xdif); $("am").innerHTML = clock(axe*xdif); $("sc").innerHTML = clock(scout*xdif); $("lc").innerHTML = clock(light*xdif); $("hc").innerHTML = clock(heavy*xdif); $("rm").innerHTML = clock(ram*xdif); $("ct").innerHTML = clock(ram*xdif); $("nb").innerHTML = clock(noble*xdif); $("mc").innerHTML = clock(merch*(dif/tech[server][3]));}}
else {var t = '0:00:00'; $("distance").innerHTML='Distance: 0 villages.';
if (tech[server]&&tech[server][1]) {$("pa").innerHTML=t; $("ma").innerHTML=t; $("ar").innerHTML=t;}
$("spm").innerHTML=t; $("swm").innerHTML=t; $("am").innerHTML=t; $("sc").innerHTML=t; $("lc").innerHTML=t; $("hc").innerHTML=t; $("rm").innerHTML=t; $("ct").innerHTML=t; $("nb").innerHTML=t;
}}
